<div ng-controller="itemsController">
    <label>Search:
        <input ng-model="searchKeyword">
    </label>
    <table class="responsive-card-table unstriped">
        <thead>
            <tr>
                <th>Przedmiot</th>
                <th>Opis</th>
                <th>Ilość</th>
                <th>Jm.</th>
                <th>Kod skanera</th>
                <th>Grupa</th>
                <th>Typ</th>
            </tr>
        </thead>
        <tbody ng-repeat="i in items | filter: searchKeyword">
            <tr>
                <td>
                    <a href="javascript:" ng-click="popUp(i)">{{i.itemName}}</a>
                </td>
                <div id="p" class="pop">
                    <div class="upInfo">
                        <label>Nazwa przedmiotu:</label>
                        <input type="text" ng-hide="active == $index" placeholder="{{thisItem.itemName}}" readonly="readonly" />
                        <input type="text" ng-show="active == $index" ng-model="items.itemName" />
                        <label>Opis:</label>
                        <textarea type="text" ng-hide="active == $index" placeholder="{{thisItem.description}}" readonly="readonly" />
                        <textarea type="text" ng-show="active == $index" ng-model="items.description" />
                        <label>Rodzaj:</label>
                        <div ng-hide="active == $index">{{thisItem.type.name}}</div>
                        <select ng-show="active == $index">
                            {{types.name}}
                        </select>
                    </div>
                    <div class="stock">
                        <div class="stockInfo">
                            <label>Ilość:</label>
                            <input type="text" ng-hide="active == $index" placeholder="{{thisItem.stock}}" readonly="readonly" />
                            <input type="text" ng-show="active == $index" ng-model="items.stock" />
                            <label>Jednostka:</label>
                            <input type="text" ng-hide="active == $index" placeholder="{{thisItem.unit}}" readonly="readonly" />
                            <input type="text" ng-show="active == $index" ng-model="items.unit" />
                            <label>Cena:</label>
                            <input type="text" ng-hide="active == $index" placeholder="{{thisItem.price}}" readonly="readonly" />
                            <input type="text" ng-show="active == $index" ng-model="items.price" />

                        </div>
                        <div class="mStock">
                            <label>Min ilość przedmiotów:</label>
                            <input type="text" placeholder="{{thisItem.minStock}}" readonly="readonly" />
                            <label>Max ilość przedmiotów:</label>
                            <input type="text" placeholder="{{thisItem.maxStock}}" readonly="readonly" />
                        </div>
                    </div>
                    <div class="downInfo">
                        <label>Uwagi:</label>
                        <input type="text" ng-hide="active == $index" placeholder="{{thisItem.notes}}" readonly="readonly" />
                        <input type="text" ng-show="active == $index" ng-model="items.notes" />
                        <label>Czas dodania:</label>
                        <input type="text" placeholder="{{thisItem.timestamp}}" readonly="readonly" />
                        <label>Magazyn:</label>
                        <input type="text" placeholder="{{thisItem.warehouse}}" readonly="readonly" />
                        <label>Kod kreskowy:</label>
                        <input type="text" ng-hide="active == $index" placeholder="{{thisItem.barcode}}" readonly="readonly" />
                        <input type="text" ng-show="active == $index" ng-model="items.barcode" />
                    </div>
                    <div class="itemFooter">
                        <button ng-hide="active==$index" ng-click="edit($index)">Edit</button>
                        <button ng-show="active==$index" ng-click="update($index)">Back</button>
                        <button class="button" ng-click="close()">Koniec</button>
                        <button ng-click="delete()">Usuń</button>
                    </div>
                </div>
                <div id="g" class="grey"></div>
                <td>{{i.description}}</td>
                <td>{{i.stock}}</td>
                <td>{{i.unit}}</td>
                <td>{{i.barcode}}</td>
                <td>{{i.group_id}}</td>
                <td>{{i.type_id}}</td>
            </tr>
        </tbody>
    </table>
</div>