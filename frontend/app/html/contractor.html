<div class="wrap">
    <h2>Kontrahenci</h2>
    <label class="searchLabel">Wyszukaj
        <input type="text" class="usersSearch" ng-model="searchKeyword"/>
    </label>
    <button class="button aaa" ng-disabled="disableBtn" ng-click="add()"><span class="fi-plus small add" style="vertical-align:middle"></span> Dodaj kontrahenta</button>
    <form class="cont" ng-show="show==true">
        <i class="fi-x" ng-click="close(addContractor)"></i>
        <div class="sameRow">
            <label class="addLabel">Nazwa firmy</label>
            <input type="text" class="addInput" ng-model="addContractor.firmName">
        </div>
        <div class="sameRow">
            <label class="addLabel">NIP</label>
            <input type="text" class="addInput" ng-model="addContractor.nip">
        </div>
        <div class="sameRow">
            <label class="addLabel">Ulica</label>
            <input type="text" class="addInput" ng-model="addContractor.street">
        </div>
        <div class="sameRow">
            <label class="addLabel">Kod pocztowy</label>
            <input type="text" class="addInput" ng-model="addContractor.postCode">
        </div>
        <div class="sameRow">
            <label class="addLabel">Miasto</label>
            <input type="text" class="addInput" ng-model="addContractor.city">
        </div>
        <button ng-click="apply(addContractor)" type="submit">Zatwierdź</button>
    </form>
    <div class="divTableContractor">
        <div class="divTableContractor blueTable">
            <div class="divTableHeading">
                <div class="divTableRow">
                    <div class="divTableHead">Nazwa firmy</div>
                    <div class="divTableHead">NIP</div>
                    <div class="divTableHead">Ulica</div>
                    <div class="divTableHead">Kod pocztowy</div>
                    <div class="divTableHead">Miasto</div>
                    <div class="divTableHead"></div>
                </div>
            </div>
            <div class="divTableBody">
                <div class="divTableRow" ng-repeat="c in contractors | filter: searchKeyword |orderBy: 'id'" id="{{c.id}}">
                    <div class="divTableCell">{{c.firmName}}</div>
                    <div class="divTableCell">{{c.nip}}</div>
                    <div class="divTableCell">{{c.street}}</div>
                    <div class="divTableCell">{{c.postCode}}</div>
                    <div class="divTableCell">{{c.city}}</div>
                    <div class="a" ng-click="edit(c)">
                        <i class="fi-page-edit"></i>
                    </div>
                </div>
            </div>
        </div>
        <form class="cont" ng-show="edit==true" name="contractorForm">
            <h3>Edytuj kontrahenta</h3>
            <i class="fi-x" ng-click="closeEdit(editContractor)"></i>
            <div class="sameRow">
                <label class="addLabel">Nazwa firmy: </label>
                <input type="text" class="addInput" ng-model="editContractor.firmName" placeholder="{{thisContractor.firmName}}">
            </div>
            <div class="sameRow">
                <label class="addLabel">NIP: </label>
                <input type="text" name="contractorNip" class="addInput" ng-model="editContractor.nip" placeholder="{{thisContractor.nip}}"  ng-minlength="10" ng-maxlength="10" ng-pattern="/[0-9]{1,10}$/i">
                <span class="error" ng-show="contractorForm.contractorNip.$error.minlength">Za krótki numer NIP</span>
                <span class="error" ng-show="contractorForm.contractorNip.$error.maxlength">Za długi numer NIP</span>
                <span class="error" ng-show="contractorForm.contractorNip.$error.pattern">Nieodpowiedni format</span>
            </div>
            <div class="sameRow">
                <label class="addLabel">Ulica: </label>
                <input type="text" name="contractorStreet" class="addInput" ng-model="editContractor.street" placeholder="{{thisContractor.street}}" ng-pattern="/(?:(?=(^[A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s[0-9]{1,3}$))|(?=(^[A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s[0-9]{1,3}[/][0-9]{1,3}$))|(?=(^[A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s[0-9]{1,3}[A-Za-z]{1}$))|(?=(^(ul.|ul)\s([A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s([0-9]{1,3}$|[0-9]{1,3}[A-Za-z]{1}$))|([A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s([0-9]{1,3}[/][0-9]{1,3}$|[0-9]{1,3}[/][0-9]{1,3}[A-Za-z]{1}$))))|(?=(^(ul.|ul)\s(Aleja|aleja|Al|al|Al.|al.)\s([A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s([0-9]{1,3}[/][0-9]{1,3}$|[0-9]{1,3}[/][0-9]{1,3}[A-Za-z]{1}$))|([A-ZŚŁŻŹĆa-zęóąśłżźćń]*\s([0-9]{1,3}$|[0-9]{1,3}[A-Za-z]{1}$)))))/g">
                <span class="error" ng-show="contractorForm.contractorStreet.$error.pattern">Nieodpowiedni format</span>
            </div>
            <div class="sameRow">
                <label class="addLabel">Kod pocztowy: </label>
                <input type="text" name="contractorPC" class="addInput" ng-model="editContractor.postCode" placeholder="{{thisContractor.postCode}}" ng-pattern="/[0-9]{2}[-][0-9]{3}/i" required ng-minlength="6"
                ng-maxlength="6">
                <span class="error" ng-show="contractorForm.contractorPC.$error.pattern">Nieodpowiedni kod pocztowy</span>
            </div>
            <div class="sameRow">
                <label class="addLabel">Miasto: </label>
                <input type="text" class="addInput" ng-model="editContractor.city" placeholder="{{thisContractor.city}}">
            </div>
            <button ng-click="applyEdit(editContractor, thisContractor.id)" type="submit">Zatwierdź</button>
        </form>
    </div>

</div>